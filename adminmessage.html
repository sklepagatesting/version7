<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Responsive Chat UI</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    height: 100vh;
    display: flex;
    background: #f5f5f5;
    color: #333;
  }
  .chat-app {
    display: flex;
    flex: 1;
    overflow: hidden;
    transition: all 0.3s ease;
  }
  .sidebar {
    width: 300px;
    background: #fff;
    border-right: 1px solid #ddd;
    display: flex;
    flex-direction: column;
    transition: transform 0.3s ease;
  }
  .sidebar-header {
    padding: 1rem;
    border-bottom: 1px solid #ddd;
    font-weight: bold;
    background: #f0f0f0;
  }
  .conversation-list {
    flex: 1;
    overflow-y: auto;
  }
  .conversation {
    padding: 1rem;
    border-bottom: 1px solid #eee;
    cursor: pointer;
    transition: background 0.2s;
  }
  .conversation:hover {
    background: #f9f9f9;
  }
  .chat-panel {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: #e5ddd5;
    transition: transform 0.3s ease;
  }
  .chat-header {
    padding: 1rem;
    background: #fff;
    border-bottom: 1px solid #ddd;
    display: flex;
    align-items: center;
  }
  .back-btn {
    display: none;
    margin-right: 1rem;
    background: none;
    border: none;
    font-size: 1.2rem;
    cursor: pointer;
  }
  .messages {
    flex: 1;
    padding: 1rem;
    overflow-y: auto;
  }
  .message {
    max-width: 70%;
    padding: 0.5rem 0.75rem;
    margin-bottom: 0.5rem;
    border-radius: 10px;
    background: #fff;
  }
  .message.sent {
    background: #dcf8c6;
    margin-left: auto;
  }
  .chat-input {
    display: flex;
    border-top: 1px solid #ddd;
    background: #fff;
    padding: 0.5rem;
  }
  .chat-input input {
    flex: 1;
    padding: 0.5rem;
    border: 1px solid #ddd;
    border-radius: 20px;
    outline: none;
  }
  .chat-input button {
    margin-left: 0.5rem;
    padding: 0.5rem 1rem;
    border: none;
    background: #0084ff;
    color: white;
    border-radius: 20px;
    cursor: pointer;
  }
  /* Mobile view */
  @media (max-width: 768px) {
    .sidebar {
      width: 100%;
      transform: translateX(0);
    }
    .chat-panel {
      width: 100%;
      transform: translateX(100%);
    }
    .chat-app.show-chat .sidebar {
      transform: translateX(-100%);
    }
    .chat-app.show-chat .chat-panel {
      transform: translateX(0);
    }
    .back-btn {
      display: inline-block;
    }
  }
</style>
</head>
<body>
<div class="chat-app" id="chatApp">
  <div class="sidebar">
    <div class="sidebar-header">Chats</div>
    <div class="conversation-list" id="conversationList">
      <!-- Conversations will be loaded here -->
    </div>
  </div>
  <div class="chat-panel">
    <div class="chat-header">
      <button class="back-btn" id="backBtn">&#8592;</button>
      <span id="chatTitle">Select a conversation</span>
    </div>
    <div class="messages" id="messages">
      <!-- Messages will appear here -->
    </div>
    <div class="chat-input">
      <input type="text" id="messageInput" placeholder="Type a message...">
      <button id="sendBtn">Send</button>
    </div>
  </div>
</div>

<script>
  const conversations = [
    { id: 1, name: 'Alice', messages: [
      { text: 'Hey there!', sent: false },
      { text: 'Hi Alice!', sent: true },
    ]},
    { id: 2, name: 'Bob', messages: [
      { text: 'Yo!', sent: false },
      { text: 'Hey Bob!', sent: true },
    ]},
    { id: 3, name: 'Charlie', messages: [
      { text: 'Good morning!', sent: false },
    ]},
  ];

  const conversationList = document.getElementById('conversationList');
  const messagesContainer = document.getElementById('messages');
  const chatTitle = document.getElementById('chatTitle');
  const messageInput = document.getElementById('messageInput');
  const sendBtn = document.getElementById('sendBtn');
  const backBtn = document.getElementById('backBtn');
  const chatApp = document.getElementById('chatApp');

  let currentConversation = null;

  function renderConversations() {
    conversationList.innerHTML = '';
    conversations.forEach(conv => {
      const div = document.createElement('div');
      div.className = 'conversation';
      div.textContent = conv.name;
      div.addEventListener('click', () => openConversation(conv));
      conversationList.appendChild(div);
    });
  }

  function openConversation(conv) {
    currentConversation = conv;
    chatTitle.textContent = conv.name;
    renderMessages();
    if (window.innerWidth <= 768) {
      chatApp.classList.add('show-chat');
    }
  }

  function renderMessages() {
    messagesContainer.innerHTML = '';
    currentConversation.messages.forEach(msg => {
      const div = document.createElement('div');
      div.className = 'message ' + (msg.sent ? 'sent' : '');
      div.textContent = msg.text;
      messagesContainer.appendChild(div);
    });
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
  }

  function sendMessage() {
    const text = messageInput.value.trim();
    if (!text || !currentConversation) return;
    currentConversation.messages.push({ text, sent: true });
    messageInput.value = '';
    renderMessages();
  }

  sendBtn.addEventListener('click', sendMessage);
  messageInput.addEventListener('keypress', e => {
    if (e.key === 'Enter') sendMessage();
  });

  backBtn.addEventListener('click', () => {
    chatApp.classList.remove('show-chat');
  });

  renderConversations();
</script>
</body>
</html>